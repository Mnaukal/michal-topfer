import Head from 'next/head'

<Head>
  <title>Cviƒçen√≠ NPRG030 ‚Äì Programov√°n√≠ 1 ‚Äì Michal T√∂pfer</title>
</Head>

# Programov√°n√≠ 1 &ndash; 6. cviƒçen√≠

## P≈ôehled z√°kladn√≠ch knihoven v Pythonu

P≈ôehled v≈°ech standardn√≠ch knihoven je [v dokumentaci Pythonu](https://docs.python.org/3/library/index.html). My si uk√°≈æeme jen nƒõkolik z nich:

* `sys`
  * P≈ô√≠stup k interpretu Pythonu (nap≈ô. ƒçten√≠ argument≈Ø z p≈ô√≠kazov√© ≈ô√°dky, vypisov√°n√≠ na chybov√Ω v√Ωstup).
  * [dokumentace](https://docs.python.org/3/library/sys.html)
  * [p≈ô√≠klad pou≈æit√≠](../sys_.py)
* `enum`
  * Definice v√Ωƒçtov√Ωch datov√Ωch typ≈Ø &ndash; kdy≈æ m√°me nƒõjakou p≈ôedem zn√°mou mno≈æinu mo≈æn√Ωch hodnot.
  * [dokumentace](https://docs.python.org/3/library/enum.html)
  * [p≈ô√≠klad pou≈æit√≠](../enum_.py)
* `logging`
  * Informaƒçn√≠ a lad√≠c√≠ v√Ωpisy.
  * [dokumentace](https://docs.python.org/3/library/logging.html)
  * [p≈ô√≠klad pou≈æit√≠](../logging_.py)
* `argparse`
  * Zpracov√°n√≠ argument≈Ø z p≈ô√≠kazov√© ≈ô√°dky.
  * [dokumentace](https://docs.python.org/3/library/argparse.html)
  * [p≈ô√≠klad pou≈æit√≠](../argparse_.py)
* `os`
  * Rozhran√≠ k operaƒçn√≠mu syst√©mu (nap≈ô. vytv√°≈ôen√≠ slo≈æek, p≈ôesouv√°n√≠ soubor≈Ø, spou≈°tƒõn√≠ p≈ô√≠kaz≈Ø).
  * [dokumentace](https://docs.python.org/3/library/os.html)
  * [p≈ô√≠klad pou≈æit√≠](../os_.py)
* `pathlib`
  * Reprezentace cest k soubor≈Øm a slo≈æk√°m a pr√°ce s nimi.
  * [dokumentace](https://docs.python.org/3/library/pathlib.html)
  * [p≈ô√≠klad pou≈æit√≠](../pathlib_.py)
* `random`
  * Generov√°n√≠ n√°hodn√Ωch ƒç√≠sel.
  * [dokumentace](https://docs.python.org/3/library/random.html)
  * [p≈ô√≠klad pou≈æit√≠](../random_.py)
* `csv`
  * ƒåten√≠ a z√°pis form√°tu [CSV](https://cs.wikipedia.org/wiki/CSV) (comma-separated values).
  * [dokumentace](https://docs.python.org/3/library/csv.html)
  * [p≈ô√≠klad ƒçten√≠](../csvread.py) (st√°hnƒõte si taky [`sample.csv`](../sample.csv))
  * [p≈ô√≠klad z√°pisu](../csvwrite.py)
* `json`
  * ƒåten√≠ a z√°pis form√°tu [JSON](https://www.json.org/json-en.html) (JavaScript Object Notation).
  * [dokumentace](https://docs.python.org/3/library/json.html)
  * [p≈ô√≠klad ƒçten√≠](../jsonread.py) (st√°hnƒõte si taky [`sample.json`](../sample.json))
  * [p≈ô√≠klad z√°pisu](../jsonwrite.py)

## Cviƒçen√≠ na pou≈æit√≠ knihoven

### Ladƒõn√≠ pomoc√≠ logov√°n√≠

Program [`average_grade.py`](average_grade.py) by mƒõl poƒç√≠tat pr≈Ømƒõrnou zn√°mku nƒõkolika student≈Ø zaokrouhlenou na dvƒõ desetinn√° m√≠sta. Bohu≈æel, v programu je nƒõkolik chyb. Va≈°√≠m √∫kolem je chyby naj√≠t a odstranit. Vyu≈æijte p≈ôi tom z√°znamy z logov√°n√≠ &ndash; kdy≈æ program spust√≠te, ulo≈æ√≠ se logy do souboru `average_grade.log`. Pak m≈Ø≈æete logy v souboru proj√≠t a naj√≠t v nich chyby, kter√© p≈ôi bƒõhu programu nastaly.

### Existence souboru

Pomoc√≠ knihoven [`argparse`](https://docs.python.org/3/library/argparse.html) a [`pathlib`](https://docs.python.org/3/library/pathlib.html) vytvo≈ôte program, kter√Ω bude ovƒõ≈ôovat existenci souboru.

Program dostane cestu k souboru jako sv≈Øj poziƒçn√≠ argument na p≈ô√≠kazov√© ≈ô√°dce. V√Ωstupem by mƒõlo b√Ωt `True` nebo `False` podle toho, jestli dan√Ω soubor existuje.

#### P≈ô√≠klady

P≈ôedpokl√°dejme, ≈æe v√°≈° program se jmenuje `file_exists.py` a ≈æe existuje soubor jm√©nem `soubor`.

* P≈ôi spu≈°tƒõn√≠ p≈ô√≠kazu `python file_exists.py soubor` by program mƒõl vypsat `True` (soubor existuje).
* P≈ôi spu≈°tƒõn√≠ p≈ô√≠kazu `python file_exists.py neexistujici_soubor` by program mƒõl vypsat `False` (soubor neexistuje).
* P≈ôi spu≈°tƒõn√≠ p≈ô√≠kazu `python file_exists.py` by program mƒõl vypsat chybovou hl√°≈°ku, ≈æe nebyla specifikov√°na cesta k souboru (to `argparse` udƒõl√° za v√°s).

#### ü¶â *Bonus:* Soubory a slo≈æky

Dopl≈àte do programu dal≈°√≠ dva voliteln√© argumenty (options). Pokud je nastaven option `-f`, program ovƒõ≈ôuje, ≈æe zadan√° cesta existuje a je to soubor (ne slo≈æka). Pokud je nastaven option `-d`, program ovƒõ≈ôuje, ≈æe zadan√° cesta existuje a je to slo≈æka (ne soubor). Pokud jsou nastaveny oba optiony, program vyp√≠≈°e chybu, ≈æe nejde pou≈æ√≠t oba optiony najednou.

P≈ôedpokl√°dejme, ≈æe v√°≈° program se jmenuje `file_exists.py` a ≈æe existuje soubor jm√©nem `soubor` a slo≈æka jm√©nem `slozka`.

* P≈ôi spu≈°tƒõn√≠ p≈ô√≠kazu `python file_exists.py soubor` by program mƒõl vypsat `True` (soubor existuje).
* P≈ôi spu≈°tƒõn√≠ p≈ô√≠kazu `python file_exists.py -f soubor` by program mƒõl vypsat `True` (soubor existuje).
* P≈ôi spu≈°tƒõn√≠ p≈ô√≠kazu `python file_exists.py soubor -f` by program mƒõl vypsat `True` (na po≈ôad√≠ argument≈Ø nez√°le≈æ√≠ &ndash; to za v√°s ≈ôe≈°√≠ `argparse`).
* P≈ôi spu≈°tƒõn√≠ p≈ô√≠kazu `python file_exists.py -d soubor` by program mƒõl vypsat `False` (soubor nen√≠ slo≈æka).
* P≈ôi spu≈°tƒõn√≠ p≈ô√≠kazu `python file_exists.py -d slozka` by program mƒõl vypsat `True` (slo≈æka existuje).
* P≈ôi spu≈°tƒõn√≠ p≈ô√≠kazu `python file_exists.py -f -d slozka` by program mƒõl vypsat chybu (nejde pou≈æ√≠t oba optiony souƒçasnƒõ).

### Naƒçten√≠ seznamu osob z CSV

V souboru `lide.csv` je seznam jmen, e-mail≈Ø a telefon≈Ø nƒõkolika lid√≠ ve form√°tu CSV. Pomoc√≠ knihovny [`csv`](https://docs.python.org/3/library/csv.html) naƒçtƒõte data ze souboru a vypi≈°te je v n√°sleduj√≠c√≠m form√°tu:

```txt
Osoba: <name> <surname>
  E-mail: <email>
  Telefon: <phone>
```

Nap≈ô√≠klad pro soubor `lide.csv`:

```txt
name,surname,email,phone
Michal,T√∂pfer,topfer@d3s.mff.cuni.cz,123456789
Tom√°≈°,Holan,holan@ksvi.mff.cuni.cz,111222333
```

vypi≈°te

```txt
Osoba: Michal T√∂pfer
  E-mail: topfer@d3s.mff.cuni.cz
  Telefon: 123456789
Osoba: Tom√°≈° Holan
  E-mail: holan@ksvi.mff.cuni.cz
  Telefon: 111222333
```

### Caesarova ≈°ifra

Dopl≈àte ≈ôe≈°en√≠ √∫lohy [Caesarova ≈°ifra textu ‚Äì soubor](https://recodex.mff.cuni.cz/app/assignment/e4cf6fd2-c071-4e43-ae8d-034f441767ca) o naƒç√≠t√°n√≠ argument≈Ø z p≈ô√≠kazov√© ≈ô√°dky (pomoc√≠ knihovny [`argparse`](https://docs.python.org/3/library/argparse.html)):

* `-f` ‚Äì vstupniÃÅ soubor,
* `-o` ‚Äì v√ΩstupniÃÅ soubor,
* `-k` ‚Äì hodnota kl√≠ƒçe (posunu).

Program se pak spust√≠ t≈ôeba takto: `python caesar.py -f in.txt -o out.txt -k 3`.

### Generov√°n√≠ n√°hodn√Ωch CSV soubor≈Ø podle JSON konfigurace

Na z√°kladƒõ konfigurace ulo≈æen√© v JSON souboru `config.json` vygenerujte CSV soubor `random.csv√Ω` s n√°hodn√Ωmi hodnotami. Pou≈æijte knihovny [`json`](https://docs.python.org/3/library/json.html), [`csv`](https://docs.python.org/3/library/csv.html) a [`random`](https://docs.python.org/3/library/random.html).

Konfigurace obsahuje polo≈æky `"rows"` a `"columns"`. Polo≈æka `"rows"` je cel√© ƒç√≠slo ud√°vaj√≠c√≠, kolik ≈ô√°dk≈Ø m√°te vygenerovat. Polo≈æka `"columns"` obsahuje seznam konfigurac√≠ sloupc≈Ø. Ka≈æd√Ω sloupec m√° jm√©no (`"name"`) a typ (`"type"`). Pokud je typ `"number"`, obsahuje konfigurace sloupce nav√≠c hodnoty `"low"` a `"high"` a va≈°√≠m c√≠lem je generovat n√°hodn√© ƒç√≠slo z tohoto rozsahu. Pokud je typ `"choices"`, obsahuje definice sloupce nav√≠c seznam `"choices"` a va≈°√≠m c√≠lem je generovat n√°hodnou polo≈æku ze seznamu.

*P≈ô√≠klad konfigurace:*

```json
{
  "rows": 5,
  "columns": [{
    "name": "kostka",
    "type": "number",
    "low": 1,
    "high": 6
  },{
    "name": "mince",
    "type": "choices",
    "choices": ["panna", "orel"]
  }]
}
```

Va≈°√≠m c√≠lem je vygenerovat CSV soubor o dan√©m poƒçtu ≈ô√°dk≈Ø, p≈ôiƒçem≈æ hodnota bu≈àky je v≈ædy n√°hodnƒõ vygenerovan√° podle konfigurace dan√©ho sloupce. Nezapome≈àte do CSV souboru napsat jm√©na sloupc≈Ø jako hlaviƒçku.

Nap≈ô√≠klad pro konfiguraci v√Ω≈°e (`config.json`) je mo≈æn√Ω v√Ωstup (`random.csv`) n√°sledovn√Ω:

```csv
kostka,mince
3,orel
1,orel
3,panna
5,orel
6,panna
```
